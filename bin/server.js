import { __awaiter } from "tslib";
import cors from "cors";
import express from "express";
import { Server } from "http";
import { Server as SocketServer } from "socket.io";
const port = process.env["PORT"] || 3331;
var PWD = process.cwd();
const getRootPath = (path = "") => PWD + "/../" + (path === null || path === void 0 ? void 0 : path.toString());
const app = express();
var httpServer = new Server(app);
var socketServer = new SocketServer(httpServer);
app.use(express.static(getRootPath("/llama.public/")));
app.use(cors());
var waitingSocketIds = [];
app.use("/jarvis/demo/connect", (_req, _res, _next) => __awaiter(void 0, void 0, void 0, function* () {
    const request = _req;
    const response = _res;
    try {
        socketServer.on("connection", function (client) {
            console.log(`client ${client.id} connected successfully`, client.data);
            client.use(([event, ...args], next) => {
                if (isUnauthorized()) {
                    client.disconnect();
                    throw new Error("unauthorized event");
                }
                switch (event.replaceAll(" ", "-")) {
                    case "request-inference":
                        var position = waitingSocketIds.push([client.id, client]);
                        client.join("waiting");
                        client.to("waiting").emit(`message`, `client ${client.id} is qeued up for a single model inference`);
                        client.emit(`message`, `you are number ${position || waitingSocketIds.length - 1} in the queue`);
                        break;
                    case "":
                        break;
                    case "":
                        break;
                    case "":
                        break;
                    case "":
                        break;
                    case "":
                        break;
                    case "message":
                        var token = args[0];
                        console.log(args, args[0], args[1]);
                        break;
                    default:
                        client.disconnect(true);
                        throw new Error("invalid event emitted by: client id " + client.id);
                        break;
                }
                next();
            });
            client.on("error", (err) => {
                var _a;
                console.log(`client ${client.id} recieved an error due to ${(_a = err.cause) === null || _a === void 0 ? void 0 : _a.toString()} => ${err.message}`);
            });
            client.on("disconnect", (reason) => {
                console.log(`client ${client.id} disconnected due to ${reason === null || reason === void 0 ? void 0 : reason.toString()}`);
            });
        });
        socketServer.on("close", () => {
        });
    }
    catch (err) {
        console.log(`[RECIEVED] < ERR : ${err && err.message || "unknown error"}`);
    }
    _next(JSON.stringify(socketServer, (obj) => {
        const ret = new Map();
        Object.keys(obj).forEach((key) => {
            let value = obj[key];
            if ((value && typeof value === 'object') || (!value && !isNaN(Number(value)))) {
                value = JSON.stringify(value);
            }
            ret.set(key, value);
        });
        return Array.from(ret).join(',');
    }));
}));
httpServer.listen(port, () => {
    console.log(`websocket for llama.ccp is online on http://localhost:${port}/`);
});
function isUnauthorized() {
    return false;
}
export default app;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VydmVyLmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsic2VydmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLElBQUksTUFBTSxNQUFNLENBQUM7QUFDeEIsT0FBTyxPQUFPLE1BQU0sU0FBUyxDQUFDO0FBRTlCLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDOUIsT0FBTyxFQUFFLE1BQU0sSUFBSSxZQUFZLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFHbkQsTUFBTSxJQUFJLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxJQUFJLENBQUM7QUFFekMsSUFBSSxHQUFHLEdBQUcsT0FBTyxDQUFDLEdBQUcsRUFBRSxDQUFDO0FBQ3hCLE1BQU0sV0FBVyxHQUFHLENBQUMsSUFBSSxHQUFHLEVBQUUsRUFBRSxFQUFFLENBQUMsR0FBRyxHQUFHLE1BQU0sSUFBRyxJQUFJLGFBQUosSUFBSSx1QkFBSixJQUFJLENBQUUsUUFBUSxFQUFFLENBQUEsQ0FBQztBQUduRSxNQUFNLEdBQUcsR0FBRyxPQUFPLEVBQUUsQ0FBQztBQUN0QixJQUFJLFVBQVUsR0FBRyxJQUFJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQTtBQUNoQyxJQUFJLFlBQVksR0FBRyxJQUFJLFlBQVksQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUVoRCxHQUFHLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3ZELEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztBQUVoQixJQUFJLGdCQUFnQixHQUE0QixFQUFFLENBQUM7QUFDbkQsR0FBRyxDQUFDLEdBQUcsQ0FBQyxzQkFBc0IsRUFBRSxDQUFPLElBQUksRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUU7SUFFeEQsTUFBTSxPQUFPLEdBQUcsSUFBSSxD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QyxPQUFPLElBQUksZUFBZSxFQUFFLENBQUMsQ0FBQTtLQUM3RTtJQUVELEtBQUssQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFlBQVksRUFBRSxDQUFDLEdBQVEsRUFBVSxFQUFFO1FBQ3BELE1BQU0sR0FBRyxHQUFHLElBQUksR0FBRyxFQUFFLENBQUM7UUFDdEIsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRTtZQUM3QixJQUFJLEtBQUssR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7WUFFckIsSUFBSSxDQUFDLEtBQUssSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUU7Z0JBQzNFLEtBQUssR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO2FBQ2pDO1lBRUQsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLENBQUM7UUFFSCxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3JDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDUixDQUFDLENBQUEsQ0FBQyxDQUFBO0FBRUYsVUFBVSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFO0lBQ3pCLE9BQU8sQ0FBQyxHQUFHLENBQUMseURBQXlELElBQUksR0FBRyxDQUFDLENBQUM7QUFDbEYsQ0FBQyxDQUFDLENBQUM7QUFFSCxTQUFTLGNBQWM7SUFDbkIsT0FBTyxLQUFLLENBQUM7QUFDakIsQ0FBQztBQUdELGVBQWUsR0FBRyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNvcnMgZnJvbSBcImNvcnNcIjtcclxuaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IGh0dHAgZnJvbSBcImh0dHBcIjtcclxuaW1wb3J0IHsgU2VydmVyIH0gZnJvbSBcImh0dHBcIjtcclxuaW1wb3J0IHsgU2VydmVyIGFzIFNvY2tldFNlcnZlciB9IGZyb20gXCJzb2NrZXQuaW9cIjtcclxuaW1wb3J0IHsgUmVtb3RlU29ja2V0LCBTb2NrZXQgfSBmcm9tIFwic29ja2V0LmlvXCI7XHJcblxyXG5jb25zdCBwb3J0ID0gcHJvY2Vzcy5lbnZbXCJQT1JUXCJdIHx8IDMzMzE7XHJcblxyXG52YXIgUFdEID0gcHJvY2Vzcy5jd2QoKTtcclxuY29uc3QgZ2V0Um9vdFBhdGggPSAocGF0aCA9IFwiXCIpID0+IFBXRCArIFwiLy4uL1wiICsgcGF0aD8udG9TdHJpbmcoKTtcclxuXHJcbi8vIFNlcnZlIEV4cHJlc3MgU29ja2V0c1xyXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XHJcbnZhciBodHRwU2VydmVyID0gbmV3IFNlcnZlcihhcHApXHJcbnZhciBzb2NrZXRTZXJ2ZXIgPSBuZXcgU29ja2V0U2VydmVyKGh0dHBTZXJ2ZXIpO1xyXG5cclxuYXBwLnVzZShleHByZXNzLnN0YXRpYyhnZXRSb290UGF0aChcIi9sbGFtYS5wdWJsaWMvXCIpKSk7XHJcbmFwcC51c2UoY29ycygpKTtcclxuXHJcbnZhciB3YWl0aW5nU29ja2V0SWRzOiBBcnJheTxbc3RyaW5nLCBTb2NrZXRdPiA9IFtdO1xyXG5hcHAudXNlKFwiL2phcnZpcy9kZW1vL2Nvbm5lY3RcIiwgYXN5bmMgKF9yZXEsIF9yZXMsIF9uZXh0KSA9PiB7XHJcblxyXG4gICAgY29uc3QgcmVxdWVzdCA9IF9yZXE7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IF9yZXM7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICAvLyBsaXN0ZW4gZm9yIGV2ZW50c1xyXG4gICAgICAgIHNvY2tldFNlcnZlci5vbihcImNvbm5lY3Rpb25cIiwgZnVuY3Rpb24gKGNsaWVudDogU29ja2V0KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBjbGllbnQgJHtjbGllbnQuaWR9IGNvbm5lY3RlZCBzdWNjZXNzZnVsbHlgLCBjbGllbnQuZGF0YSk7XHJcblxyXG4gICAgICAgICAgICBjbGllbnQudXNlKChbZXZlbnQsIC4uLmFyZ3NdLCBuZXh0KSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGlzVW5hdXRob3JpemVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGllbnQuZGlzY29ubmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInVuYXV0aG9yaXplZCBldmVudFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGV2ZW50LnJlcGxhY2VBbGwoXCIgXCIsIFwiLVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJyZXF1ZXN0LWluZmVyZW5jZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb24gPSB3YWl0aW5nU29ja2V0SWRzLnB1c2goW2NsaWVudC5pZCwgY2xpZW50XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudC5qb2luKFwid2FpdGluZ1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50LnRvKFwid2FpdGluZ1wiKS5lbWl0KGBtZXNzYWdlYCwgYGNsaWVudCAke2NsaWVudC5pZH0gaXMgcWV1ZWQgdXAgZm9yIGEgc2luZ2xlIG1vZGVsIGluZmVyZW5jZWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGllbnQuZW1pdChgbWVzc2FnZWAsIGB5b3UgYXJlIG51bWJlciAke3Bvc2l0aW9uIHx8IHdhaXRpbmdTb2NrZXRJZHMubGVuZ3RoIC0gMX0gaW4gdGhlIHF1ZXVlYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiXCI6XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiXCI6XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiXCI6XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiXCI6XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiXCI6XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG9rZW4gPSBhcmdzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhcmdzLCBhcmdzWzBdLCBhcmdzWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudC5kaXNjb25uZWN0KHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGV2ZW50IGVtaXR0ZWQgYnk6IGNsaWVudCBpZCBcIiArIGNsaWVudC5pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBjbGllbnQub24oXCJlcnJvclwiLCAoZXJyOiBFcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYGNsaWVudCAke2NsaWVudC5pZH0gcmVjaWV2ZWQgYW4gZXJyb3IgZHVlIHRvICR7ZXJyLmNhdXNlPy50b1N0cmluZygpfSA9PiAke2Vyci5tZXNzYWdlfWApO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNsaWVudC5vbihcImRpc2Nvbm5lY3RcIiwgKHJlYXNvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYGNsaWVudCAke2NsaWVudC5pZH0gZGlzY29ubmVjdGVkIGR1ZSB0byAke3JlYXNvbj8udG9TdHJpbmcoKX1gKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgc29ja2V0U2VydmVyLm9uKFwiY2xvc2VcIiwgKCkgPT4ge1xyXG5cclxuICAgICAgICB9KVxyXG4gICAgfSBjYXRjaCAoZXJyOiBhbnkgfCB1bmtub3duIHwgc3RyaW5nKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYFtSRUNJRVZFRF0gPCBFUlIgOiAke2VyciAmJiBlcnIubWVzc2FnZSB8fCBcInVua25vd24gZXJyb3JcIn1gKVxyXG4gICAgfVxyXG5cclxuICAgIF9uZXh0KEpTT04uc3RyaW5naWZ5KHNvY2tldFNlcnZlciwgKG9iajogYW55KTogc3RyaW5nID0+IHtcclxuICAgICAgICBjb25zdCByZXQgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICAgICAgbGV0IHZhbHVlID0gb2JqW2tleV07XHJcblxyXG4gICAgICAgICAgICBpZiAoKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHx8ICghdmFsdWUgJiYgIWlzTmFOKE51bWJlcih2YWx1ZSkpKSkge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldC5zZXQoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHJldCkuam9pbignLCcpO1xyXG4gICAgfSkpO1xyXG59KVxyXG5cclxuaHR0cFNlcnZlci5saXN0ZW4ocG9ydCwgKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coYHdlYnNvY2tldCBmb3IgbGxhbWEuY2NwIGlzIG9ubGluZSBvbiBodHRwOi8vbG9jYWxob3N0OiR7cG9ydH0vYCk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gaXNVbmF1dGhvcml6ZWQoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBhcHA7Il19